overlord_recruiter = {
	category = specialist
	can_set_priority = no
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = holding_recruitment_office
			icon = soldier
		}
	}

	tags = { soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = {
		complex_specialist_job_check_trigger = yes
	}

	resources = {
		category = planet_overlord_recruiters
		upkeep = {
			energy = 5
			unity = 2
		}
		inline_script = "output/soldier_output" ## ECAF
	}

	overlord_resources = {
		category = planet_overlord_recruiters
		inline_script = "output/other_mil_job_output" ## ECAF
	}

	planet_modifier = {
		planet_defense_armies_add = 3
	}

	weight = {
		weight = @overlord_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

overlord_recruiter_drone = {
	category = complex_drone

	can_set_priority = no
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = holding_recruitment_office
			icon = overlord_beholder
		}
	}

	tags = { soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = {
		can_think = yes
	}

	resources = {
		category = planet_overlord_recruiters
		upkeep = {
			energy = 5
			unity = 2
		}
		inline_script = "output/soldier_output" ## ECAF
	}

	overlord_resources = {
		category = planet_overlord_recruiters
		inline_script = "output/other_mil_job_output" ## ECAF
	}

	planet_modifier = {
		planet_defense_armies_add = 3
	}

	weight = {
		weight = @overlord_job_weight
		mult = value:scripted_job_weight_shroud_forged_mult
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

overlord_beholder = {
	category = specialist

	can_set_priority = no
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = holding_overlord_vigil_command
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_specialist_job
	possible = {
		complex_specialist_job_check_trigger = yes
	}

	resources = {
		category = planet_overlord_beholders
		inline_script = "output/other_mil_job_output" ## ECAF
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_specialist_subject_tier = {
						TYPE = bulwark
						TIER = 1
					}
				}
			}
			alloys = 2
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_specialist_subject_tier = {
						TYPE = bulwark
						TIER = 2
					}
				}
			}
			alloys = 4
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_specialist_subject_tier = {
						TYPE = bulwark
						TIER = 3
					}
				}
			}
			alloys = 8
		}
	}

	overlord_resources = {
		category = planet_overlord_beholders
		inline_script = "output/other_mil_job_output" ## ECAF
	}

	weight = {
		weight = @overlord_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

overlord_beholder_drone = {
	category = complex_drone

	can_set_priority = no
	is_capped_by_modifier = yes

	swappable_data = {
		default = {
			building_icon = holding_overlord_vigil_command
			icon = overlord_beholder
		}
	}

	tags = { }

	possible_pre_triggers = {
		has_owner = yes
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		is_sapient = yes
	}

	possible_precalc = can_fill_drone_job
	possible = {
		can_think = yes
	}

	resources = {
		category = planet_overlord_beholders
		inline_script = "output/other_mil_job_output" ## ECAF
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_specialist_subject_tier = {
						TYPE = bulwark
						TIER = 1
					}
				}
			}
			alloys = 2
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_specialist_subject_tier = {
						TYPE = bulwark
						TIER = 2
					}
				}
			}
			alloys = 4
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_specialist_subject_tier = {
						TYPE = bulwark
						TIER = 3
					}
				}
			}
			alloys = 8
		}
	}

	overlord_resources = {
		category = planet_overlord_beholders
		inline_script = "output/other_mil_job_output" ## ECAF
	}

	weight = {
		weight = @overlord_job_weight
	}

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}

overlord_knight = {
	category = specialist
	can_set_priority = no

	swappable_data = {
		default = {
			building_icon = building_order_keep
			icon = knight
		}
	}

	tags = { unity research soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_specialist_job
	possible = {
		hidden_trigger = { exists = owner }
		owner = {
			is_gestalt = no
		}
	}

	overlord_resources = {
		category = planet_knights
		produces = {
			unity = 2
			mult = value:knights_unity_output_modifier
		}
		produces = {
			physics_research = 2
			engineering_research = 2
			society_research = 2
			mult = value:knights_research_output_modifier
		}
		inline_script = "output/other_mil_job_output" ## ECAF
	}

	resources = {
		category = planet_knights
		inline_script = "output/knight_output" ## ECAF Soldier Output values
		upkeep = {
			alloys = 1
			trigger = {
				exists = owner.overlord
				owner.overlord = {
					NOT = {
						has_modifier = luminous_blades
					}
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 3
		planet_defense_armies_add = 2
	}

	weight = {
		weight = @overlord_job_weight
		mult = value:job_weights_modifier|JOB|overlord_knight|RESOURCE|unity|
		mult = value:job_weights_research_modifier|JOB|overlord_knight|
		modifier = {
			factor = 0
			is_enslaved = yes
		}
	}

	inline_script = "jobs/automodding_priority_unity"

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = specialist
				AMOUNT = local_pop_amount
			}
		}
	}
}

overlord_knight_drone = {
	category = complex_drone
	can_set_priority = no

	swappable_data = {
		default = {
			building_icon = building_order_keep
			icon = knight
		}
	}

	tags = { unity research soldier }

	possible_pre_triggers = {
		has_owner = yes
		is_being_purged = no
		is_being_assimilated = no
	}

	possible_precalc = can_fill_specialist_job
	possible = {
		hidden_trigger = { exists = owner }
		owner = {
			is_gestalt = yes
		}
	}

	overlord_resources = {
		category = planet_knights
		inline_script = "output/other_mil_job_output" ## ECAF
		produces = {
			unity = 2
			mult = value:knights_unity_output_modifier
		}
		produces = {
			physics_research = 2
			engineering_research = 2
			society_research = 2
			mult = value:knights_research_output_modifier
		}
	}

	resources = {
		category = planet_knights
		inline_script = "output/knight_output" ## ECAF Soldier Output values
		upkeep = {
			alloys = 1
			trigger = {
				exists = owner.overlord
				owner.overlord = {
					NOT = {
						has_modifier = luminous_blades
					}
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 3
		planet_defense_armies_add = 2
	}

	weight = {
		weight = @overlord_job_weight
		modifier = {
			factor = 0
			is_enslaved = yes
		}
		mult = value:job_weights_modifier|JOB|overlord_knight_drone|RESOURCE|unity|
		mult = value:job_weights_research_modifier|JOB|overlord_knight_drone|
	}

	inline_script = "jobs/automodding_priority_unity"

	promotion = {
		time = @standard_promotion_time
		effect = {
			pop_amount_change_category = {
				CATEGORY = complex_drone
				AMOUNT = local_pop_amount
			}
		}
	}
}